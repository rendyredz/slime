
 {% extends "base.twig" %}

{% block content %}

<div class="row">
    <div class="col-sm-3"></div>
    <div class="col-sm-6">
        <div class="card bg-light mb-3">
            <div class="card-header">Tambah Data Mahasiswa</div>
            <div class="card-body">
                <form id="formMaha">
                    <div class="form-group">
                        <label for="nama">Nama</label>
                        <input type="text" class="form-control" id="nama" name="nama" aria-describedby="namaHelp" placeholder="Masukan Nama Anda">
                        <small id="namaHelp" class="form-text text-muted">Harap mengisi nama anda</small>
                    </div>
                    <div class="form-group">
                        <label for="nim">NIM</label>
                        <input type="text" class="form-control" id="nim" name="nim" aria-describedby="nimHelp" placeholder="Masukan NIM Anda">
                        <small id="nimHelp" class="form-text text-muted">Harap mengisi NIM anda</small>
                    </div>
                    <div class="form-group">
                        <label for="nim">Jurusan</label>
                        <input type="text" class="form-control" id="jurusan" name="jurusan" aria-describedby="jurusanHelp" placeholder="Masukan Jurusan Anda">
                        <small id="jurusanHelp" class="form-text text-muted">Harap mengisi jurusan anda</small>
                    </div>
                    <button type="button" class="btn btn-primary btnAdd">Submit</button>
                </form>
            </div>
        </div>
    </div>
    <div class="col-sm-3"></div>
</div>

<script>

$( ".btnAdd" ).click(function() {
   var $form = $("#formMaha");
    var data = getFormData($form);
    
    $.post( "/mahasiswa",data, function( data ) {
        
    });
});


function getFormData($form){
    var unindexed_array = $form.serializeArray();
    var indexed_array = {};

    $.map(unindexed_array, function(n, i){
        indexed_array[n['name']] = n['value'];
    });

    return indexed_array;
}

</script>

{% endblock %}
